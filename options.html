<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title data-i18n-content="optionsPageTitle">Long Request Notifier Settings</title>
    <style>
        body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif; padding: 20px; max-width: 650px; margin: 20px auto; line-height: 1.6; color: #333; }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 30px; }
        label { display: block; margin-bottom: 5px; font-weight: 600; color: #555; }
        input[type="number"] { width: 70px; margin-right: 10px; padding: 8px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; }
        input[type="range"] { width: 150px; vertical-align: middle; }
        input[type="file"] { margin-top: 5px; }
        input[type="checkbox"] { vertical-align: middle; margin-right: 4px;}
        select { padding: 8px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; background-color: white; }
        textarea { width: 100%; min-height: 80px; margin-bottom: 10px; padding: 8px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; font-family: monospace; font-size: 0.95em; }
        button { padding: 10px 18px; cursor: pointer; background-color: #3498db; color: white; border: none; border-radius: 4px; font-size: 1em; transition: background-color 0.2s ease; margin-right: 8px; }
        button:hover { background-color: #2980b9; }
        button.secondary { background-color: #7f8c8d; }
        button.secondary:hover { background-color: #6c7a7d; }
        #status { margin-top: 20px; font-weight: bold; padding: 10px; border-radius: 4px; text-align: center; }
        .status-success { background-color: #e6ffed; color: #28a745; border: 1px solid #c3e6cb; }
        .status-error { background-color: #ffe6e6; color: #dc3545; border: 1px solid #f5c6cb; }
        .setting-group { margin-bottom: 30px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 5px; background-color: #fdfdfd; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .setting-group h2 { margin-top: 0; color: #34495e; border-bottom: 1px solid #ecf0f1; padding-bottom: 10px; font-size: 1.3em; }
        .info { font-size: 0.9em; color: #7f8c8d; margin-bottom: 10px; line-height: 1.5; background-color: #ecf0f1; padding: 10px; border-radius: 3px; }
        .info code { background-color: #dcdcdc; padding: 2px 4px; border-radius: 3px; font-family: monospace; }
        #currentSoundInfo { margin-top: 8px; font-size: 0.9em; margin-bottom: 10px; }
        .sound-actions button { margin-top: 10px; }
        .checkbox-label { display: inline-block; vertical-align: middle; }
    </style>
</head>
<body>
    <h1 data-i18n-content="optionsTitle"></h1>

    <div class="setting-group">
        <h2 data-i18n-content="timingHeader"></h2>
        <p>
            <label for="threshold" data-i18n-content="thresholdLabel"></label>
            <input type="number" id="threshold" min="1" value="10"> <span data-i18n-content="secondsUnit"></span>
        </p>
    </div>

    <div class="setting-group">
        <h2 data-i18n-content="domainFilteringHeader"></h2>
        <label for="filterMode" data-i18n-content="filterModeLabel"></label>
        <select id="filterMode">
            <option value="all" data-i18n-content="monitorAllOption"></option>
            <option value="whitelist" data-i18n-content="monitorWhitelistOption"></option>
            <option value="blacklist" data-i18n-content="monitorBlacklistOption"></option>
        </select>
        <br><br>
        <label for="whitelistDomains" data-i18n-content="whitelistLabel"></label>
        <p class="info" data-i18n-html="whitelistInfo"></p>
        <textarea id="whitelistDomains" data-i18n-placeholder="whitelistPlaceholder"></textarea>
        <br>
        <label for="blacklistDomains" data-i18n-content="blacklistLabel"></label>
        <p class="info" data-i18n-html="blacklistInfo"></p>
        <textarea id="blacklistDomains" data-i18n-placeholder="blacklistPlaceholder"></textarea>
    </div>

    <div class="setting-group">
        <h2 data-i18n-content="soundSettingsHeader"></h2>
        <label for="volume" data-i18n-content="volumeLabel"></label>
        <input type="range" id="volume" min="0" max="1" step="0.05" value="0.7">
        <span id="volumeValue">70%</span>
        <br><br>
        <label for="customSoundFile" data-i18n-content="customSoundLabel"></label>
        <input type="file" id="customSoundFile" accept=".mp3,.ogg,.wav,.m4a,audio/*">
        <div id="currentSoundInfo">
            <span data-i18n-content="currentSoundText"></span> <span id="currentSoundName"></span>
        </div>
        <div class="sound-actions">
            <button id="testSound" class="secondary" data-i18n-content="testSoundButtonText"></button>
            <button id="resetSound" class="secondary" data-i18n-content="resetSoundButtonText"></button>
        </div>
    </div>

    <div class="setting-group">
        <h2 data-i18n-content="desktopNotificationsHeader"></h2>
        <p>
            <input type="checkbox" id="showOsNotifications">
            <label for="showOsNotifications" class="checkbox-label" data-i18n-content="enableOsNotificationsLabel"></label>
        </p>
    </div>

    <button id="save" data-i18n-content="saveButtonText"></button>
    <div id="status"></div>

    <script src="options.js"></script>
</body>
</html>
